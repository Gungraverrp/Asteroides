<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<link rel="shortcut icon" href="#">
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-iYQeCzEYFbKjA/T2uDLTpkwGzCiq6soy8tYaI1GyVh/UjpbCx/TYkiZhlZB6+fzT" crossorigin="anonymous">

<meta charset="utf-8">
<title>INDEX</title>

	
	
</head>
<body>

<h2>Indique el número de días para </h2>
<form class="container needs-validation" novalidate action="javascript:abrirAsteroids()">

	<div class="row">
		<div class="col-2">
			<label for="dias" class="form-label">Días</label>
		</div>

		<div class="col-4">
		    <input type="number" class="form-control" id="dias" value="" min="1" max="7" required />
		    <div id="valid" class="valid-feedback">Ok</div>
		    <div id="invalid" class="invalid-feedback">Por favor, indique un número del 1 al 7.</div>    
		</div>
  
		<div class="col-2">
		    <button class="btn btn-primary" type="submit">Consultar</button>
		</div>
	</div>	
</form>


</body>

<script>
/**
 * Validación de los campos del formulario
 */
(function () {
  'use strict'

  // Fetch all the forms we want to apply custom Bootstrap validation styles to
  var forms = document.querySelectorAll('.needs-validation')

  // Loop over them and prevent submission
  Array.prototype.slice.call(forms)
    .forEach(function (form) {
      form.addEventListener('submit', function (event) {   		  
          if (!form.checkValidity()) {
          	event.preventDefault()
          	event.stopPropagation()
          }
	
	      form.classList.add('was-validated')
      }, false)
    })
})()


/**
 * Abrimos la página de asteroids pasandole el número de días
 */
function abrirAsteroids(){
	let dias = parseInt(document.getElementById("dias").value);
	location.href = "listadoasteroides?dias="+dias;
}

</script>
</html>